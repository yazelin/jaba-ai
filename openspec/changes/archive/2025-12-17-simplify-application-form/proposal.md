# Proposal: simplify-application-form

## Summary
簡化群組申請流程，重新命名「管理密碼」為「群組代碼」以正確反映其用途，並精簡申請表單欄位。

## Why
「管理密碼」這個名稱不當，因為此代碼會在 LINE 群組中明碼顯示，不具傳統密碼的保密性。此外申請表單欄位過多，降低用戶申請意願。

## What Changes
- 將「管理密碼」重新命名為「群組代碼」（UI、API、LINE 指令）
- 合併「申請人姓名」和「聯絡方式」為「聯絡資訊」
- 移除「申請原因」欄位
- 資料庫欄位 `admin_password` 改名為 `group_code`

## Problem Statement
目前申請流程存在以下問題：

1. **「管理密碼」命名不當**
   - 此代碼會在 LINE 群組中明碼顯示（輸入「管理員 xxxx」）
   - 沒有帳號配對，只是群組共用的識別碼
   - 不具傳統密碼的保密性，更像是群組編號
   - 使用「密碼」一詞會誤導用戶對其安全性的期望

2. **申請欄位過多**
   - 「申請人姓名」和「聯絡方式」可合併為單一欄位
   - 「申請原因」幾乎沒有實際審核價值
   - 過多欄位降低申請意願

## Proposed Solution

### 1. 重新命名：密碼 → 群組代碼
- UI 顯示名稱改為「群組代碼」
- 清楚說明：此代碼會在群組對話中顯示，不具保密性
- 資料庫欄位名稱維持 `admin_password` 以保持向下相容

### 2. 簡化申請表單

| 原欄位 | 變更 |
|-------|------|
| LINE 群組 ID | 保留 |
| 群組名稱 | 保留 |
| 申請人姓名 | 合併為「聯絡資訊」 |
| 聯絡方式 | 合併為「聯絡資訊」 |
| 申請原因 | 移除（表單不顯示） |
| 管理密碼 | 更名為「群組代碼」 |

### 3. 更新相關文案
- LINE 指令說明：「管理員 [代碼]」
- 管理後台登入說明
- LINE 群組內的指令提示

## Affected Components
- `static/line-admin.html` - 申請表單 UI
- `app/routers/line_admin.py` - API 欄位驗證
- `app/services/line_service.py` - LINE 指令說明文字
- `openspec/specs/line-bot/spec.md` - 規格更新

## Out of Scope
- 資料庫欄位名稱變更（維持 `admin_password`）
- 已存在的申請資料遷移
- 超級管理員後台的審核介面（不影響）

## Risks and Mitigations
| 風險 | 緩解措施 |
|-----|---------|
| 用戶對「群組代碼」名稱不熟悉 | 保留 4-20 字元長度限制，說明文字解釋用途 |
| 現有申請資料有 applicant_name/contact 分開 | 審核介面仍顯示兩欄位內容（向下相容） |
